---
title: 后端工程师入门前端页面重构（二）：心法 II
date: 2018/03/24
categories: 前端页面重构系列
tags:
- 前端
---

上一篇博客，我们介绍了前端页面重构应遵循的第一个心法－「清除浮动」，那么这篇我们就来聊聊第二个心法－「语义化」

## Web 应用的交互性
如果你在百度或者谷歌的输入框中输入「Scala」并且按下回车，那么百度或者谷歌就会给你展示很多条和「Scala」相关的搜索结果，那么百度是如何知道这些 Web 应用是和「Scala」相关的呢？
<!-- more -->
不仅仅是搜索引擎，分类信息网和网络爬虫等其它搜集 Web 应用信息的应用也需要这样的功能。此外对于 Web 应用的搭建者，他们更希望其它 Web 应用可以获取自己的 Web 应用信息，甚至精确到每个页面，这样它们的应用才能得到推广。

因此在当今 Web 应用迅速的发展时期，不仅仅要在用户和 Web 应用之间搭建沟通的桥梁，Web 应用之间同样需要“沟通交流”。

那么如何实现不同 Web 应用之间的交流呢？

## 语义化
第一种实现方式是让 Web 应用(尤其是搜索引擎)往人工智能方向发展，让 Web 应用尽可能智能化。这种实现方式的成本有点高，并且还得依赖于人工智能的发展，而且不是所有的 Web 应用都能拥有搜索引擎背后那雄厚的资源。

而且搜索引擎最终读取的是去除了 CSS 和 JS 的原始的 HTML，如果 HTML 写的很糟，那估计再智能的搜索引擎也很难读懂吧！

第二种实现方式是让我们的代码更加**语义化**，搜索引擎只要把我们的代码读一遍，就能很容易的知道我们的 Web 应用是做什么的，具体的功能在什么位置。

那我们如何让我们的代码更加语义化呢？这就要从内容本身出发。

### 本意论
在 Web 应用中，我们展现的内容有文字、图片、音乐、视频等等，那我们如何来描述这些内容的本身呢？

在这里我们，我们引入「本意论」这个概念，它第一次被使用是在哲学中，用来解释「是什么」，在这里，它是区分内容本身的一种方式，它有如下几个组件：
* 概念(Concept)：一种抽象的分组，用来区分内容本身，例如「人」和「车」就是两个不同的概念。
* 实体(Instance)：概念的具体表现形式，有点面向对象的味道，例如「车」的实例可以是「汽车」、「自行车」、「马车」等。
* 关系(Relation)：表示不同概念之间的关系，例如「学习」可以在「人」和「大学」之间产生关系。
* 公理(Axiom)：在建立这个概念以后，我们让它被接受，例如为什么我们可以称作为「人」？不需要证明，因为这是公理。

正是基于这样的原理，W3C 在 HTML5 中 增加了很多语义化的标签，这些标签更加清楚的描述它们的本意。如表示表示文章的「article」标签，文章页眉的「header」标签。与表示区块的「div」标签相比，它们更加具有语义化。

那么在实际开发过程中，如何让我们的 HTML 代码更好的有语义呢？

## 语义化遵循的原则

### 精确的表达你想描述的内容
从人与人之间的交流来看，如果你想让你的意思被人明白，那么你需要精确的表达你本意。

HTML 代码也遵循此原则，如果你想让你的 Web 应用被机器读懂，你需要使用精确的代码描述它们。

例如你想表示这是一篇文章，那么你需要使用「article」标签，如果你想表示文章的标题或者子标题，那么你应该使用「hx」标签，如果你想表示这是文章中的一幅图片，你应该使用「img」标签，如果你想给文章加上页眉和页脚，那么你需要使用「header」和「footer」标签……

总之，对内容本意描述的越精确越好。

### 处理好层级关系
「关系」在本意论是一个重要的概念，在确定了的本意之后，还需要处理与其它概念的关系。

例如，在一篇文章中，文章的内容都是文章这个概念的子集，因此我们需要使用「article」标签来包含所有的文章内容，就像这样：
```html
    <article>
        <h1></h1>
        <p>
            <img/>
        </p>
        ...
    </article>
```
如果父元素的 `class` 已经表示某些内容，那么子元素的 `class` 不需要重复的去表示。

如父元素为`<article class="acticle"></article>`，那么子元素使用`<h1 class="h1"></h1>` 即可，使用`<h1 class="acticle-h1"></h1>`反而显得赘余。

文章中每个段落都是并列的关系，我们可以使用 `class` 属性来标识它们属于同一个「类别」。

```html
<p class="paragraph"></p>
<p class="paragraph"></p>
<p class="paragraph"></p>
```
### 资源的语义化
上面的两个原则，都是针对具体的页面，可是对于整个 Web 应用而言，资源的划分是以 URL 为最小单位的，因此 URL 的语义化，会让搜索引擎可以更好的把握 Web 应用的功能，迅速的定位到具体的功能页面。
例如
```html
https://weixin.drip.im/index.php/solution/crm
https://weixin.drip.im/solution/crm
```
虽然两个 URL 都能访问，但是明显第二个 URL 更好些，因为它是技术无关性的。
而且 URL 的设计最好能展现 Web 应用的资源结构，下面的 URL 就很好的展现了 [dripower](https://drip.im/) 不同的解决方案：
```html
https://weixin.drip.im/solution/crm
https://weixin.drip.im/solution/payment
https://weixin.drip.im/solution/marketing
```
「心法篇」到这里就介绍完了，可是对于页面布局中的各种疑难杂症该如何解决呢？请大家继续关注这个系列的「招式篇」。

>[知乎](https://www.zhihu.com/question/20455165)
>[Understanding Semantic Web and Ontologies](https://pdfs.semanticscholar.org/fc3f/c9be203aeaf72b4737c28e4f4ac1ea3dadd1.pdf)
