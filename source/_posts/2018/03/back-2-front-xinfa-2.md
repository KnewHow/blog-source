---
title: 后端工程师入门前端页面重构（二）：心法 II
date: 2018/03/24
categories: 前端页面重构系列
tags:
- 前端
---

上一篇博客，我们介绍了前端页面重构应遵循的第一个心法－「清除浮动」，那么这篇我们就来聊聊第二个心法－「语义化」

## Web 应用的交互性
如果你在百度或者谷歌的输入框中输入「Scala」并且按下回车，那么百度或者谷歌就会给你展示很多条和「Scala」相关的搜索结果，那么百度是如何知道这些 Web 应用是和「Scala」相关的呢？
<!-- more -->
不仅仅是搜索引擎，分类信息网和网络爬虫等其它搜集 Web 应用信息的应用也需要这样的功能。此外对于 Web 应用的搭建者，他们更希望其它 Web 应用可以获取自己的 Web 应用信息，甚至精确到每个页面，这样它们的应用才能得到推广。

因此在当今 Web 应用迅速的发展时期，不仅仅要在用户和 Web 应用之间搭建沟通的桥梁，Web 应用之间同样需要“沟通交流”。

那么如何实现不同 Web 应用之间的交流呢？

## 语义化
第一种实现方式是让 Web 应用(尤其是搜索引擎)往人工智能方向发展，让 Web 应用尽可能智能化。这种实现方式的成本有点高，并且还得依赖于人工智能的发展，而且不是所有的 Web 应用都能拥有搜索引擎背后那雄厚的资源。

第二种实现方式是让我们的代码更加**语义化**。我们最终展现给用户看到的是通过 CSS 渲染和添加了 JS 事件的 HTML，但是对于网页内容描述的只有 HTML 代码，而且搜索引擎最终读取的也是 HTML 代码　。

因此在我们设计 Web 应用的时候，必须要回到内容本身，将内容本身的语义合理地表述出来，而不考虑它最终呈现给用户的是什么样子。

那我们如何通过 HTML 将内容本身的语义合理的表达出来呢？

### 精确的表达你想描述的内容
这是一个「是什么」的概念，你描述的内容到底是什么？一段视频？一段文字？需要通过对应的 HTML 标签来精确的表达这些内容。

例如你想表示这是一篇文章，那么你需要使用「article」标签，如果你想表示文章的标题或者子标题，那么你应该使用「hx」标签，如果你想表示这是文章中的一幅图片，你应该使用「img」标签，如果你想给文章加上页眉和页脚，那么你需要使用「header」和「footer」标签……

总之，对内容本意描述的越精确越好。

但是我们知道，主流的页面布局使用的是 DIV+CSS 的方式，「div」表达是是一个区块，它是一个抽象的概念，并没有的具体的语义。那么如何用它们来表达语义呢？

我们可以给「div」添加 `id` 或者 `class` 属性来增强它的语义，虽然这种语义和上面的相比有点弱，但是还是可以被识别的，而且它们是表达并列关系语义的一种较好的方式。

### 处理好层级关系
「关系」在页面布局中是一个重要的概念，而且 HTML 的嵌套本身就表达一种包含关系。

例如，在一篇文章中，文章的内容都是文章这个概念的子集，段落中或许有图片。

因此我们需要使用「article」标签来包含所有的文章内容，在 「p」中嵌入「img」。

就像这样：

```html
    <article>
        <h1></h1>
        <p>
            <img/>
        </p>
        ...
    </article>
```
当然，我们也可以通过 `class` 来增强它们的语义。但是如果父元素的 `class` 已经表示某些内容，那么子元素的 `class` 不需要重复的去表示。

如父元素为`<article class="acticle"></article>`，那么子元素使用`<h1 class="h1"></h1>` 即可，使用`<h1 class="acticle-h1"></h1>`反而显得赘余。

除了包含关系，并列关系在页面布局中也很常见。文章中段落是并列的关系，我们使用 `p` 标签来表达它们的语义，可以使用 `class` 属性来增强它们属于同一个「类别」。

```html
<p class="paragraph"></p>
<p class="paragraph"></p>
<p class="paragraph"></p>
```
### 资源的语义化
上面的两种方法，都是针对具体的代码来实现语义化，可是对于整个 Web 应用而言，资源的划分是以 URL 为最小单位的，因此 URL 的语义化，会让搜索引擎可以更好的把握 Web 应用的功能，迅速的定位到具体的功能页面。

URL 的设计应能展现 Web 应用的资源结构，下面的 URL 就很好的展现了 [dripower](https://drip.im/) 不同的「解决方案」：
```html
https://weixin.drip.im/solution/crm
https://weixin.drip.im/solution/payment
https://weixin.drip.im/solution/marketing
```
而且 URL 应该被纯粹的表达。如下面的例子：
```html
https://weixin.drip.im/index.php/solution/crm
https://weixin.drip.im/solution/crm
```
虽然两个 URL 都能访问，但是明显第二个 URL 更好些，因为它更纯粹，更是技术无关性的。

「心法篇」到这里就介绍完了，可是对于页面布局中的各种疑难杂症该如何解决呢？请大家继续关注这个系列的「招式篇」。

>[知乎](https://www.zhihu.com/question/20455165)
>[Understanding Semantic Web and Ontologies](https://pdfs.semanticscholar.org/fc3f/c9be203aeaf72b4737c28e4f4ac1ea3dadd1.pdf)
